<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sumwords - Know the Facts, Do the Math</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <!-- Resume Prompt Modal -->
    <div id="resume-modal" class="modal hidden">
      <div class="modal-content">
        <h2>Welcome Back!</h2>
        <p>You have an unfinished puzzle. Would you like to continue?</p>
        <div class="modal-buttons">
          <button id="resume-btn" class="btn btn-primary">Resume Puzzle</button>
          <button id="new-game-btn" class="btn btn-secondary">
            New Puzzle
          </button>
        </div>
      </div>
    </div>

    <!-- Statistics Modal -->
    <div id="stats-modal" class="modal hidden">
      <div class="modal-content stats-modal">
        <div class="modal-header">
          <h2>Statistics</h2>
          <button id="close-stats-btn" class="close-btn">&times;</button>
        </div>

        <div class="stats-section">
          <h3>Overall</h3>
          <div class="stats-grid">
            <div class="stat-item">
              <div class="stat-value" id="total-completed">0</div>
              <div class="stat-label">Completed</div>
            </div>
            <div class="stat-item">
              <div class="stat-value" id="total-attempts">0</div>
              <div class="stat-label">Total Attempts</div>
            </div>
            <div class="stat-item">
              <div class="stat-value" id="total-hints">0</div>
              <div class="stat-label">Total Hints</div>
            </div>
            <div class="stat-item">
              <div class="stat-value" id="perfect-games">0</div>
              <div class="stat-label">Perfect Games</div>
            </div>
            <div class="stat-item">
              <div class="stat-value" id="current-streak">0</div>
              <div class="stat-label">Current Streak</div>
            </div>
            <div class="stat-item">
              <div class="stat-value" id="best-streak">0</div>
              <div class="stat-label">Best Streak</div>
            </div>
          </div>
        </div>

        <div class="stats-section">
          <h3>By Difficulty</h3>

          <div class="difficulty-stats">
            <h4>Easy</h4>
            <div class="stats-row">
              <span>Completed:</span>
              <span id="easy-completed">0</span>
            </div>
            <div class="stats-row">
              <span>Attempts:</span>
              <span id="easy-attempts">0</span>
            </div>
            <div class="stats-row">
              <span>Hints Used:</span>
              <span id="easy-hints">0</span>
            </div>
            <div class="stats-row">
              <span>Perfect Games:</span>
              <span id="easy-perfect">0</span>
            </div>
            <div class="stats-row">
              <span>Avg Attempts:</span>
              <span id="easy-avg">0.0</span>
            </div>
          </div>

          <div class="difficulty-stats">
            <h4>Medium</h4>
            <div class="stats-row">
              <span>Completed:</span>
              <span id="medium-completed">0</span>
            </div>
            <div class="stats-row">
              <span>Attempts:</span>
              <span id="medium-attempts">0</span>
            </div>
            <div class="stats-row">
              <span>Hints Used:</span>
              <span id="medium-hints">0</span>
            </div>
            <div class="stats-row">
              <span>Perfect Games:</span>
              <span id="medium-perfect">0</span>
            </div>
            <div class="stats-row">
              <span>Avg Attempts:</span>
              <span id="medium-avg">0.0</span>
            </div>
          </div>

          <div class="difficulty-stats">
            <h4>Hard</h4>
            <div class="stats-row">
              <span>Completed:</span>
              <span id="hard-completed">0</span>
            </div>
            <div class="stats-row">
              <span>Attempts:</span>
              <span id="hard-attempts">0</span>
            </div>
            <div class="stats-row">
              <span>Hints Used:</span>
              <span id="hard-hints">0</span>
            </div>
            <div class="stats-row">
              <span>Perfect Games:</span>
              <span id="hard-perfect">0</span>
            </div>
            <div class="stats-row">
              <span>Avg Attempts:</span>
              <span id="hard-avg">0.0</span>
            </div>
          </div>

          <div class="difficulty-stats">
            <h4>Random</h4>
            <div class="stats-row">
              <span>Completed:</span>
              <span id="random-completed">0</span>
            </div>
            <div class="stats-row">
              <span>Attempts:</span>
              <span id="random-attempts">0</span>
            </div>
            <div class="stats-row">
              <span>Hints Used:</span>
              <span id="random-hints">0</span>
            </div>
            <div class="stats-row">
              <span>Perfect Games:</span>
              <span id="random-perfect">0</span>
            </div>
            <div class="stats-row">
              <span>Avg Attempts:</span>
              <span id="random-avg">0.0</span>
            </div>
          </div>
        </div>

        <div class="modal-footer">
          <button id="reset-stats-btn" class="btn btn-secondary">
            Reset Statistics
          </button>
        </div>
      </div>
    </div>

    <!-- Game Container -->
    <div class="game-container">
      <!-- Header -->
      <header class="game-header">
        <h1>Sumwords</h1>
        <div class="puzzle-info">
          <select id="category-select" class="puzzle-select">
            <option value="sports">Sports</option>
            <option value="history">History</option>
            <option value="geography">Geography</option>
            <option value="popculture">Pop Culture</option>
            <option value="science">Science</option>
            <option value="moviestv">Movies & TV</option>
            <option value="fooddrink">Food & Drink</option>
            <option value="technology">Technology</option>
            <option value="gamesliterature">Games & Literature</option>
            <option value="animalsnature">Animals & Nature</option>
            <option value="everything">Everything</option>
          </select>
          <select id="difficulty-select" class="puzzle-select">
            <option value="random">Random</option>
            <option value="easy">Easy</option>
            <option value="medium">Medium</option>
            <option value="hard">Hard</option>
          </select>
        </div>
        <div class="header-controls">
          <button class="btn-header" id="stats-btn">ðŸ“Š Stats</button>
          <button class="btn-header" id="new-puzzle-btn">ðŸŽ² New Puzzle</button>
          <button class="btn-header" id="reset-btn">â†º Reset</button>
        </div>
      </header>

      <!-- Column Targets -->
      <div class="column-targets">
        <div class="target">
          <span class="label">Column 1</span>
          <span class="current" id="col1-current">0</span>
          <span class="separator">/</span>
          <span class="goal" id="col1-goal">36</span>
        </div>
        <div class="target">
          <span class="label">Column 2</span>
          <span class="current" id="col2-current">0</span>
          <span class="separator">/</span>
          <span class="goal" id="col2-goal">17</span>
        </div>
      </div>

      <!-- Assigned Difficulty (shows when Random is selected) -->
      <div
        id="assigned-difficulty"
        class="assigned-difficulty"
        style="display: none"
      ></div>

      <!-- Equations List -->
      <div class="equations-container">
        <!-- Equation 1 -->
        <div class="equation" data-equation="1">
          <div class="question">Super Bowls won by Tom Brady</div>
          <div class="equation-row">
            <button class="blank operand" data-position="op1-1"></button>
            <div class="operator-container" data-equation="1">
              <span class="operator">+</span>
              <select class="operator-select">
                <option value="">?</option>
                <option value="+">+</option>
                <option value="-">-</option>
                <option value="Ã—">Ã—</option>
                <option value="Ã·">Ã·</option>
              </select>
            </div>
            <button class="blank operand" data-position="op2-1"></button>
            <span class="equals">=</span>
            <input
              type="text"
              inputmode="numeric"
              pattern="[0-9]*"
              class="blank solution"
              data-position="sol-1"
              placeholder="?"
              maxlength="3"
            />
          </div>
        </div>

        <!-- Equation 2 -->
        <div class="equation" data-equation="2">
          <div class="question">Players on a basketball team</div>
          <div class="equation-row">
            <button class="blank operand" data-position="op1-2"></button>
            <div class="operator-container" data-equation="2">
              <span class="operator">+</span>
              <select class="operator-select">
                <option value="">?</option>
                <option value="+">+</option>
                <option value="-">-</option>
                <option value="Ã—">Ã—</option>
                <option value="Ã·">Ã·</option>
              </select>
            </div>
            <button class="blank operand" data-position="op2-2"></button>
            <span class="equals">=</span>
            <input
              type="text"
              inputmode="numeric"
              pattern="[0-9]*"
              class="blank solution"
              data-position="sol-2"
              placeholder="?"
              maxlength="3"
            />
          </div>
        </div>

        <!-- Equation 3 -->
        <div class="equation" data-equation="3">
          <div class="question">Innings in a baseball game</div>
          <div class="equation-row">
            <button class="blank operand" data-position="op1-3"></button>
            <div class="operator-container" data-equation="3">
              <span class="operator">+</span>
              <select class="operator-select">
                <option value="">?</option>
                <option value="+">+</option>
                <option value="-">-</option>
                <option value="Ã—">Ã—</option>
                <option value="Ã·">Ã·</option>
              </select>
            </div>
            <button class="blank operand" data-position="op2-3"></button>
            <span class="equals">=</span>
            <input
              type="text"
              inputmode="numeric"
              pattern="[0-9]*"
              class="blank solution"
              data-position="sol-3"
              placeholder="?"
              maxlength="3"
            />
          </div>
        </div>

        <!-- Equation 4 -->
        <div class="equation" data-equation="4">
          <div class="question">Points for an NFL touchdown</div>
          <div class="equation-row">
            <button class="blank operand" data-position="op1-4"></button>
            <div class="operator-container" data-equation="4">
              <span class="operator">+</span>
              <select class="operator-select">
                <option value="">?</option>
                <option value="+">+</option>
                <option value="-">-</option>
                <option value="Ã—">Ã—</option>
                <option value="Ã·">Ã·</option>
              </select>
            </div>
            <button class="blank operand" data-position="op2-4"></button>
            <span class="equals">=</span>
            <input
              type="text"
              inputmode="numeric"
              pattern="[0-9]*"
              class="blank solution"
              data-position="sol-4"
              placeholder="?"
              maxlength="3"
            />
          </div>
        </div>

        <!-- Equation 5 -->
        <div class="equation" data-equation="5">
          <div class="question">Frames in a game of bowling</div>
          <div class="equation-row">
            <button class="blank operand" data-position="op1-5"></button>
            <div class="operator-container" data-equation="5">
              <span class="operator">+</span>
              <select class="operator-select">
                <option value="">?</option>
                <option value="+">+</option>
                <option value="-">-</option>
                <option value="Ã—">Ã—</option>
                <option value="Ã·">Ã·</option>
              </select>
            </div>
            <button class="blank operand" data-position="op2-5"></button>
            <span class="equals">=</span>
            <input
              type="text"
              inputmode="numeric"
              pattern="[0-9]*"
              class="blank solution"
              data-position="sol-5"
              placeholder="?"
              maxlength="3"
            />
          </div>
        </div>

        <!-- Number Pool (bottom of screen) -->
        <div class="number-pool">
          <div class="pool-label">Number Pool</div>
          <div class="pool-numbers" id="number-pool">
            <!-- Numbers will be added by JavaScript -->
          </div>
        </div>

        <!-- Submit Button -->
        <div class="controls">
          <button class="btn-submit" id="submit-btn">Submit Answer</button>
          <div class="hint-buttons">
            <button
              class="btn-hint"
              id="reveal-answer-btn"
              disabled
              title="Reveal the answer for selected equation"
            >
              ? Answer
            </button>
            <button
              class="btn-hint"
              id="reveal-numbers-btn"
              disabled
              title="Reveal both numbers for selected equation"
            >
              # Numbers
            </button>
            <button
              class="btn-hint"
              id="reveal-operator-btn"
              disabled
              title="Reveal the operator for selected equation"
            >
              * Operator
            </button>
          </div>
          <div class="game-stats">
            <div class="attempts">
              Attempts: <span id="attempt-count">0</span>
            </div>
            <div class="hints">Hints: <span id="hint-count">0</span></div>
          </div>
        </div>

        <!-- Feedback Area -->
        <div class="feedback" id="feedback">
          <!-- Validation messages appear here -->
        </div>
      </div>

      <!-- Confetti Container -->
      <div class="confetti-container" id="confetti-container"></div>
    </div>
    <script src="game.js"></script>
  </body>
</html>
